import {
  Flex,
  VStack,
  Container,
  HStack,
  Image,
  Center,
} from "@chakra-ui/react"
import dynamic from "next/dynamic"
import { CarbonizedGraph } from "./CarbonizedGraph"
import { Collection } from "./Collection"

const Chart = dynamic(
  () => import("./CarbonizedGraph").then((mod) => mod.CarbonizedGraph),
  {
    ssr: false,
  },
)

export const CarbonCards = () => {
  let formatedData = Object.keys(data)
    .map((date) => {
      return {
        date: date,
        value: Object.keys(data[date])
          .map((tokenId) => {
            return {
              tokenId: tokenId,
              value: data[date][tokenId],
              src: `https://celostrials.s3.us-west-2.amazonaws.com/${tokenId}.png`,
            }
          })
          .reduce(
            (obj, item) => Object.assign(obj, { [item.tokenId]: { ...item } }),
            {},
          ),
      }
    })
    .reduce((obj, item) => Object.assign(obj, { [item.date]: item.value }), {})

  return (
    <Flex width="100%" color="white" align="center" flexDir="column">
      <VStack width="100%">
        <Container maxW="container.lg" id="mint">
          <Center mt="5em">
            <Image
              minW={"15em"}
              src={"/images/carbonize.png"}
              alt={"carbonize"}
              w="40em"
            />
          </Center>

          <HStack w="100%" mb="3em">
            <Chart data={formatedData} />
          </HStack>
          <Collection />
        </Container>
      </VStack>
    </Flex>
  )
}

let data = {
  "01/22": {
    21: 0,
    2: 0,
    3: 0,
    4: 0,
    5: 0,
    6: 0,
    7: 0,
    8: 0,
    9: 0,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 0,
  },
  "02/22": {
    21: 4470000,
    2: 0,
    3: 0,
    4: 0,
    5: 0,
    6: 0,
    7: 0,
    8: 0,
    9: 0,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 0,
  },
  "03/22": {
    21: 5970054,
    2: 0,
    3: 3675135,
    4: 0,
    5: 0,
    6: 0,
    7: 0,
    8: 980036,
    9: 4900180,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 0,
  },
  "04/22": {
    21: 7459742,
    2: 0,
    3: 7399354,
    4: 0,
    5: 0,
    6: 9731610,
    7: 0,
    8: 19490059,
    9: 9865805,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 1946322,
  },
  "05/22": {
    21: 8989854,
    2: 0,
    3: 14949270,
    4: 0,
    5: 0,
    6: 19932360,
    7: 0,
    8: 54763260,
    9: 14966180,
    10: 0,
    11: 248309,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 19878248,
  },
  "06/22": {
    21: 24253200,
    2: 0,
    3: 29299875,
    4: 0,
    5: 0,
    6: 29533250,
    7: 0,
    8: 69299875,
    9: 26916562,
    10: 0,
    11: 488331,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 143932250,
  },
  "07/22": {
    21: 51008911,
    2: 100000000,
    3: 30000000,
    4: 0,
    5: 0,
    6: 55045618,
    7: 0,
    8: 72408233,
    9: 44357628,
    10: 0,
    11: 1944940,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 294493950,
  },
  "08/22": {
    21: 28804331,
    2: 276000000,
    3: 41834525,
    4: 0,
    5: 0,
    6: 57893524,
    7: 0,
    8: 70133095,
    9: 47366905,
    10: 0,
    11: 3893524,
    12: 0,
    13: 0,
    14: 0,
    15: 0,
    16: 0,
    17: 0,
    18: 0,
    19: 413611440,
  },
  "09/22": {
    21: 0,
    2: 517750000,
    3: 54708063,
    4: 166029650,
    5: 0,
    6: 59953290,
    7: 0,
    8: 68046710,
    9: 49941613,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 0,
    15: 43250000,
    16: 0,
    17: 19532900,
    18: 0,
    19: 480551990,
  },
  "10/22": {
    21: 0,
    2: 766000000,
    3: 66954600,
    4: 170000000,
    5: 0,
    6: 46610848,
    7: 0,
    8: 46003536,
    9: 47609080,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 0,
    15: 92750000,
    16: 47818400,
    17: 48691040,
    18: 0,
    19: 642669824,
  },
  "11/22": {
    21: 0,
    2: 979750000,
    3: 79664888,
    4: 170000000,
    5: 107319100,
    6: 0,
    7: 0,
    8: 0,
    9: 45067022,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 146890156,
    15: 160250000,
    16: 118123370,
    17: 79195730,
    18: 0,
    19: 844638200,
  },
  "12/22": {
    21: 0,
    2: 1170500000,
    3: 80000000,
    4: 170000000,
    5: 205654700,
    6: 0,
    7: 117500000,
    8: 0,
    9: 0,
    10: 0,
    11: 0,
    12: 0,
    13: 0,
    14: 293482050,
    15: 223675000,
    16: 196523760,
    17: 118261880,
    18: 300000000,
    19: 1065223075,
  },
  "13/22": {
    21: 0,
    2: 1334000000,
    3: 0,
    4: 170000000,
    5: 254859015,
    6: 0,
    7: 250000000,
    8: 0,
    9: 0,
    10: 0,
    11: 135786956,
    12: 0,
    13: 0,
    14: 388721163,
    15: 223675000,
    16: 444232415,
    17: 154890345,
    18: 498750000,
    19: 1249451725,
  },
  "14/22": {
    21: 0,
    2: 1516750000,
    3: 0,
    4: 170000000,
    5: 298950015,
    6: 0,
    7: 400000000,
    8: 0,
    9: 0,
    10: 0,
    11: 163346676,
    12: 0,
    13: 0,
    14: 475923363,
    15: 304500000,
    16: 660843407,
    17: 208716685,
    18: 800000000,
    19: 1328133360,
  },
  "15/22": {
    21: 0,
    2: 1753500000,
    3: 0,
    4: 0,
    5: 398648000,
    6: 0,
    7: 550000000,
    8: 0,
    9: 0,
    10: 143250000,
    11: 238972480,
    12: 238648000,
    13: 0,
    14: 565796720,
    15: 314500000,
    16: 847512320,
    17: 281026560,
    18: 1000000000,
    19: 1399053600,
  },
  "16/22": {
    21: 0,
    2: 2035750000,
    3: 0,
    4: 0,
    5: 495657000,
    6: 0,
    7: 750000000,
    8: 0,
    9: 0,
    10: 195000000,
    11: 297394200,
    12: 0,
    13: 239142500,
    14: 593783960,
    15: 328250000,
    16: 921742750,
    17: 357569030,
    18: 1333333333,
    19: 1495657000,
  },
  "17/22": {
    21: 0,
    2: 2255250000,
    3: 0,
    4: 0,
    5: 430000000,
    6: 0,
    7: 1000000000,
    8: 0,
    9: 0,
    10: 246500000,
    11: 355000000,
    12: 0,
    13: 500000000,
    14: 624000000,
    15: 329500000,
    16: 1000000000,
    17: 431000000,
    18: 1433333333,
    19: 1900000000,
  },
}
